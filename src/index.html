<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/foobars.css"/>
    <style>
        body {
            background-color:#666;
            font-family: sans-serif;
            font-size: x-small;
        }
        body > div {
            position: absolute;
            left: 25px;
            top: 100px;
            width: 400px;
            height: 400px;
        }
        canvas {
            background-color: purple;
        }
        #foobar-test-panel li { margin: .3em 0; }
        #foobar-test-panel .val { color: white; font-weight: bold }
        #foobar-test-panel span { margin: 0 .25em; padding: .1em .5em .15em; border-radius: 3px; border: 1px solid transparent; }
        #foobar-test-panel span.listening { border-color: yellow }
    </style>
    <script> module = { exports: {} }; </script>
    <script src="js/foobars.js"></script>
    <script>
        FooBar = module.exports;
        delete window.module;

        window.onload = function () {
            var container = document.getElementsByTagName('div')[0];
            var xMax = 999, yMax = 2000;
            var horzBar = new FooBar(100, xMax, cbX, 'horizontal');
            var vertBar = new FooBar(1000, yMax, cbY, 'vertical');

            container.appendChild(vertBar.bar);
            container.appendChild(horzBar.bar);

            vertBar.resize({
                right: 0,
                top: 0,
                height: 394 // you can use '100%' here iff your .foobar-vertical has no top and/or bottom margins
            }, container);

            horzBar.resize({
                left: 0,
                bottom: 0,
                width: 380 // you can use '100%' here iff your .foobar-horizontal has no left and/or right margins
            }, container);

            var containerX = container.getElementsByTagName('div')[0];
            var containerY = container.getElementsByTagName('div')[1];

            function cbX(val) {
                var s = '';
                val = Math.min(val, xMax - 10);
                for(var limit=val+13; val < limit; ++val)
                    s += val + '<br>';
                containerX.innerHTML = s;
            }

            function cbY(val) {
                var s = '';
                val = Math.min(val, yMax - 10);
                for(var limit=val+13; val < limit; ++val)
                    s += val + '<br>';
                containerY.innerHTML = s;
            }
        };
    </script>
</head>
<body>
<div style="position:absolute; background-color:beige; font-weight:bold; font-size:xx-large; text-align:center">
    <!-- <canvas width="400" height="400"></canvas> -->
    <div style="height:100%; width:100%; opacity:.5; color:blue; white-space:nowrap; overflow-x:hidden; transform: rotate(-90deg); -webkit-transform: rotate(-90deg)"></div>
    <div style="height:100%; width:100%; opacity:.5; color:red; overflow-y:hidden; position:absolute; top:0;"></div>
</div>

<ol id="foobar-test-panel"></ol>

</body>
</html>
